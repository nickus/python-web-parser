# üê≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Elasticsearch –≤ Docker Desktop

## ‚úÖ –£—Å–ø–µ—à–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å)

Elasticsearch —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `localhost:9200`!

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- ‚úÖ Docker Desktop —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- ‚úÖ –ü–æ—Ä—Ç—ã 9200 –∏ 9300 —Å–≤–æ–±–æ–¥–Ω—ã

### 2. –ó–∞–ø—É—Å–∫ Elasticsearch

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞)
```bash
docker run -d \
  --name elasticsearch \
  -p 9200:9200 \
  -p 9300:9300 \
  -e "discovery.type=single-node" \
  -e "xpack.security.enabled=false" \
  -e "xpack.security.enrollment.enabled=false" \
  elasticsearch:8.15.1
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –í –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
docker-compose up -d
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker ps

# –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP API
curl http://localhost:9200

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
python main.py --check-connection
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
docker ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs elasticsearch

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker stop elasticsearch

# –ó–∞–ø—É—Å–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker start elasticsearch

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker rm elasticsearch

# –£–¥–∞–ª–µ–Ω–∏–µ —Å –¥–∞–Ω–Ω—ã–º–∏
docker rm -f elasticsearch
```

### –ö–æ–º–∞–Ω–¥—ã Docker Compose:
```bash
# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f elasticsearch

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart elasticsearch
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 9200 —É–∂–µ –∑–∞–Ω—è—Ç
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –ø–æ—Ä—Ç
netstat -ano | findstr :9200

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker stop $(docker ps -q --filter "publish=9200")
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (–Ω–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏)
–î–æ–±–∞–≤—å—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:
```bash
docker run -d \
  --name elasticsearch \
  -p 9200:9200 \
  -p 9300:9300 \
  -e "discovery.type=single-node" \
  -e "xpack.security.enabled=false" \
  -e "ES_JAVA_OPTS=-Xms512m -Xmx512m" \
  elasticsearch:8.15.1
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused"
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω: `docker ps`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs elasticsearch`
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 30-60 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –∏ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å

### –ü—Ä–æ–±–ª–µ–º–∞: "Docker not found"
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
1. –£–≤–µ–ª–∏—á—å—Ç–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é Docker –ø–∞–º—è—Ç—å (Settings ‚Üí Resources ‚Üí Memory)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Java heap: `-e "ES_JAVA_OPTS=-Xms512m -Xmx1g"`

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Elasticsearch:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ GUI:**
   ```bash
   python main.py --gui
   ```

2. **–ò–ª–∏ CLI –ø—Ä–æ–≤–µ—Ä–∫—É:**
   ```bash
   python main.py --check-connection
   ```

3. **–ò–ª–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É:**
   ```bash
   python main.py --init
   ```

## üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Kibana (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Elasticsearch)
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker Compose:
```bash
# –ó–∞–ø—É—Å–∫ —Å Kibana
docker-compose --profile with-kibana up -d

# Kibana –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5601
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤—å—è –∫–ª–∞—Å—Ç–µ—Ä–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞
curl http://localhost:9200/_cluster/health

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω–¥–µ–∫—Å–æ–≤
curl http://localhost:9200/_cat/indices?v

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl http://localhost:9200/_stats
```

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
2. **–î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker Compose
3. **–î–ª—è —Å–ª–∞–±—ã—Ö –º–∞—à–∏–Ω:** –î–æ–±–∞–≤–ª—è–π—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
4. **–î–ª—è production:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ security –∏ persistent storage

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫

–ß—Ç–æ–±—ã Elasticsearch –∑–∞–ø—É—Å–∫–∞–ª—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å Docker Desktop:
```bash
# –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥
docker run -d --restart unless-stopped --name elasticsearch ...

# –ò–ª–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker update --restart unless-stopped elasticsearch
```

---

**‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** Elasticsearch –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!  
**üîó URL:** http://localhost:9200  
**üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `elasticsearch`  
**üì± –¢–µ—Å—Ç:** `python main.py --check-connection`